(this.webpackJsonpblogger=this.webpackJsonpblogger||[]).push([[0],{42:function(e,t,s){},68:function(e,t,s){"use strict";s.r(t);var c=s(2),a=s.n(c),r=s(35),n=s.n(r),l=(s(42),s(7)),i=s(6),o=s(3),d=s(1);function j(){return Object(d.jsxs)("div",{className:"flex items-center space-x-3",children:[Object(d.jsx)("img",{src:"/logo512.png",className:"w-10 h-10 rounded-full"}),Object(d.jsx)("h1",{className:"text-2xl text-blue-600 font-semibold font-mono",children:"Blogger"})]})}function b(e){var t=e.children,s=e.to,c=void 0===s?"/":s;return Object(d.jsx)(l.c,{to:c,children:Object(d.jsx)("div",{className:"text-purple-700 hover:bg-purple-100 px-3 py-2",children:t})})}function u(){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(b,{children:"Home"}),Object(d.jsx)(b,{to:"/about",children:"About"}),Object(d.jsx)(b,{to:"/contact",children:"Contact"})]})}var x=s(16);function m(e){var t=e.children,s=e.bg,c=void 0===s?"blue":s,a=(e.color,e.to),r=void 0===a?"/":a;return Object(d.jsx)(l.c,{to:r,children:Object(d.jsx)("button",{className:"rounded px-3 py-1 hover:bg-".concat(c,"-600 font-semibold focus:outline-none focus:ring-2 focus:ring-").concat(c,"-500 bg-").concat(c,"-500 text-").concat(c,"-100"),children:t})})}var h=s(4),p=s.n(h),O=s(8),f=s(37),g=s(10),v=s(5),w=s.n(v),N={authenticated:!1,currentUser:null,loading:!1,snackbar:null,posts:[]},y=Object(c.createContext)(N),S=Object(c.createContext)(null),A=function(e,t){var s=t.type,c=t.payload;switch(s){case"AUTH":return Object(g.a)(Object(g.a)({},e),{},{authenticated:!0,currentUser:c});case"LOGOUT":return Object(g.a)(Object(g.a)({},e),{},{authenticated:!1,currentUser:null});case"LOADING":return Object(g.a)(Object(g.a)({},e),{},{loading:c});case"SNACKBAR":return Object(g.a)(Object(g.a)({},e),{},{snackbar:c});case"ADD_POST":return Object(g.a)(Object(g.a)({},e),{},{posts:[c].concat(Object(f.a)(e.posts))});case"ADD_POSTS":return Object(g.a)(Object(g.a)({},e),{},{posts:c});case"DELETE_POST":var a=e.posts.filter((function(e){return e._id!=c}));return Object(g.a)(Object(g.a)({},e),{},{posts:a});default:throw new Error("Unknown action")}},k=function(e){var t=e.children,s=Object(c.useReducer)(A,N),a=Object(o.a)(s,2),r=a[0],n=a[1],l=function(e,t){return n({type:e,payload:t})};return Object(c.useEffect)((function(){var e=window.localStorage.token;function t(){return(t=Object(O.a)(p.a.mark((function t(){var s;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=14;break}return t.prev=1,t.next=4,w.a.get("/user/me");case 4:s=t.sent,l("AUTH",s.data),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.log(t.t0);case 11:return t.prev=11,l("LOADING",!1),t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[1,8,11,14]])})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]),Object(d.jsx)(S.Provider,{value:l,children:Object(d.jsx)(y.Provider,{value:r,children:t})})},C=function(){return Object(c.useContext)(y)},D=function(){return Object(c.useContext)(S)};function B(){var e=Object(c.useState)(!1),t=Object(o.a)(e,2),s=t[0],a=t[1],r=C(),n=r.authenticated,l=r.currentUser,i=r.snackbar,b=D(),h=n?Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(m,{bg:"blue",to:"/user/".concat(l.user._id),children:"Profile"}),Object(d.jsx)(m,{bg:"green",to:"/post/create",children:"Create Post"})]}):Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(m,{bg:"purple",to:"/login",children:"Login"}),Object(d.jsx)(m,{bg:"yellow",to:"/register",children:"Signup"})]});return Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"items-center justify-between h-14 px-12 bg-white shadow  w-full hidden md:flex",children:[Object(d.jsx)(j,{}),Object(d.jsx)("div",{className:"md:flex items-center space-x-4 hidden",children:Object(d.jsx)(u,{show:s,setShow:a})}),Object(d.jsx)("div",{className:"md:flex items-center space-x-4 hidden",children:h})]}),Object(d.jsxs)("div",{className:"md:hidden  items-center justify-between h-14 px-4 bg-white shadow  w-full flex",children:[Object(d.jsx)(j,{}),Object(d.jsx)("div",{className:"md:hidden cursor-pointer ",onClick:function(){return a(!s)},children:Object(d.jsx)(x.d,{size:"30px"})})]}),s&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{className:"z-40 absolute  t-0 l-0 r-0 z-20 bg-transparent text-white w-full md:hidden flex justify-between px-3 py-4",children:[Object(d.jsxs)("div",{children:[Object(d.jsx)(u,{}),h]}),Object(d.jsx)(x.a,{size:"30px",onClick:function(){return a(!1)}})]}),Object(d.jsx)("div",{className:"md:hidden absolute t-0 l-0 r-0 h-screen  w-screen bg-gray-200"})]}),i&&Object(d.jsxs)("div",{className:"flex px-2 md:px-10 items-center justify-between bg-".concat(i.success?"green-500":"red-500"," text-white py-3 w-full"),children:[Object(d.jsx)("p",{children:i.msg}),Object(d.jsx)(x.a,{onClick:function(){return b("SNACKBAR",null)},className:"cursor-pointer",size:"30px"})]})]})}function H(){return Object(d.jsxs)("footer",{className:"bg-white w-full h-20 text-center text-gray-500 flex flex-col justify-center",children:[Object(d.jsxs)("p",{children:["Blogger \xa9 ",(new Date).getFullYear()]}),Object(d.jsx)("p",{children:"Design & Developed by Harsh mangalam"})]})}var P=function(e){var t=e.children,s=C(),c=s.loading,a=s.currentUser;return c?Object(d.jsx)("h1",{children:"Loading..."}):a?Object(d.jsx)(d.Fragment,{children:t}):Object(d.jsx)(i.a,{to:{pathname:"/"}})};function M(e){var t,s=e.post,c=C(),a=c.currentUser,r=c.authenticated,n=D(),i=function(){var e=Object(O.a)(p.a.mark((function e(t){var s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.delete("/post/".concat(t));case 3:s=e.sent,n("SNACKBAR",{success:!0,msg:s.data.message}),n("DELETE_POST",t),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),e.t0.response.data.error&&n("SNACKBAR",{success:!1,msg:e.t0.response.data.error});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)("div",{className:"h-12 px-2 w-full bg-white py-2 flex items-center justify-between space-x-2 px-1",children:[Object(d.jsxs)("div",{className:"flex items-center space-x-2 w-full",children:[Object(d.jsx)("div",{className:"w-8 h-8",children:Object(d.jsx)("img",{className:"rounded-full w-full h-full",src:null===s||void 0===s||null===(t=s.user)||void 0===t?void 0:t.image})}),Object(d.jsx)("h1",{children:null===s||void 0===s?void 0:s.user.name})]}),r?a.user._id==s.user._id&&Object(d.jsxs)("div",{className:"flex items-center space-x-2",children:[Object(d.jsx)(x.b,{className:"cursor-pointer",onClick:function(){return i(s._id)},size:"20px"}),Object(d.jsx)(l.b,{to:"/post/edit/".concat(s._id),children:Object(d.jsx)(x.c,{className:"cursor-pointer",size:"20px"})})]}):null]})}function z(e){var t=e.post;return Object(d.jsxs)("div",{className:"bg-white",children:[(null===t||void 0===t?void 0:t.image)&&Object(d.jsx)("div",{className:"w-full h-96",children:Object(d.jsx)("img",{src:null===t||void 0===t?void 0:t.image,className:"w-full h-full"})}),Object(d.jsxs)("div",{className:"px-2 py-3",children:[Object(d.jsx)("h2",{className:"text-xl text-gray-600",children:t.title}),Object(d.jsx)("p",{className:"text-justify py-3",children:null===t||void 0===t?void 0:t.body}),Object(d.jsx)("p",{className:"text-gray-600 text-sm",children:new Date(null===t||void 0===t?void 0:t.createdAt).toDateString()}),Object(d.jsx)("div",{children:Object(d.jsx)(l.b,{to:"/post/view/".concat(null===t||void 0===t?void 0:t._id),children:Object(d.jsx)("p",{className:"text-sm text-blue-600 hover:bg-blue-500 hover:text-white text-center p-1 mt-3",children:"View"})})})]})]})}function Z(e){var t=e.post;return Object(d.jsxs)("div",{className:"shadow hover:shadow-lg",children:[Object(d.jsx)(M,{post:t}),Object(d.jsx)(z,{post:t})]})}function L(e){var t,s=e.user;return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"my-4 p-4 bg-white rounded-lg shadow ",children:s?Object(d.jsxs)("div",{className:"flex flex-col md:flex-row space-x-3  ",children:[Object(d.jsx)("div",{className:"md:w-14 md:h-14  w-full h-60 flex-shrink-0",children:Object(d.jsx)("img",{className:"w-full h-full md:rounded-full",src:"https://images.unsplash.com/photo-1615396662271-e313de4da9ff?ixid=MXwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwzfHx8ZW58MHx8fA%3D%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60"})}),Object(d.jsxs)("div",{className:"flex flex-col space-y-2",children:[Object(d.jsx)("h3",{className:"text-xl text-blue-600 font-bold",children:s.user.name}),Object(d.jsxs)("div",{className:"flex items-center space-x-3",children:[Object(d.jsx)("span",{children:"Email"}),Object(d.jsx)("span",{className:"truncate md:w-40 lg:w-60",children:s.user.email})]}),Object(d.jsxs)("div",{className:"flex items-center space-x-3",children:[Object(d.jsx)("span",{children:"Posts"}),Object(d.jsx)("span",{children:null===(t=s.posts)||void 0===t?void 0:t.length})]}),Object(d.jsxs)("div",{className:"flex items-center space-x-3",children:[Object(d.jsx)("span",{children:"Joined"}),Object(d.jsx)("span",{children:s.user.createdAt})]}),Object(d.jsx)("div",{className:"my-3",children:Object(d.jsx)("button",{onClick:function(){window.localStorage.removeItem("token"),window.location.reload()},className:"bg-red-500 px-2 py-1 rounded-lg text-white text-lg font-semibold",children:"Logout"})})]})]}):Object(d.jsxs)("div",{className:"flex flex-col items-center space-y-4 text-xl text-blue-600",children:[Object(d.jsx)("img",{src:"/logo512.png",className:"w-24 h-24 rounded-full"}),Object(d.jsx)("p",{children:"Login to create Post"})]})})})}function R(){return Object(d.jsx)("div",{className:"my-4 p-4 bg-white rounded-lg shadow",children:Object(d.jsxs)("div",{className:"animate-pulse flex space-x-4",children:[Object(d.jsx)("div",{className:"rounded-full bg-blue-400 h-12 w-12"}),Object(d.jsxs)("div",{className:"flex-1 space-y-4 py-1",children:[Object(d.jsx)("div",{className:"h-4 bg-blue-400 rounded w-40"}),Object(d.jsxs)("div",{className:"space-y-2",children:[Object(d.jsx)("div",{className:"h-4 bg-blue-400 rounded w-60"}),Object(d.jsx)("div",{className:"h-4 bg-blue-400 rounded w-60"}),Object(d.jsx)("div",{className:"h-4 bg-blue-400 rounded w-60"})]})]})]})})}function E(){return Object(d.jsxs)("div",{className:"my-4 p-4 bg-white rounded-lg shadow w-full",children:[Object(d.jsxs)("div",{className:"animate-pulse flex items-center space-x-4",children:[Object(d.jsx)("div",{className:"rounded-full bg-blue-300 h-12 w-12"}),Object(d.jsx)("div",{className:"flex-1 space-y-4 py-1",children:Object(d.jsx)("div",{className:"h-4 bg-blue-300 rounded w-40"})})]}),Object(d.jsxs)("div",{className:"space-y-2 flex flex-col space-y-4 my-2",children:[Object(d.jsx)("div",{className:"h-96 bg-blue-300 rounded w-full"}),Object(d.jsx)("div",{className:"h-4 bg-blue-300 rounded w-60"}),Object(d.jsx)("div",{className:"h-4 bg-blue-300 rounded w-60"})]})]})}function I(){var e=C(),t=e.currentUser,s=e.loading,a=e.posts,r=D(),n=Object(c.useState)(!0),l=Object(o.a)(n,2),i=l[0],j=l[1];return Object(c.useEffect)((function(){function e(){return(e=Object(O.a)(p.a.mark((function e(){var t;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.get("/post/");case 3:t=e.sent,r("ADD_POSTS",t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:return e.prev=10,j(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[0,7,10,13]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(d.jsxs)("div",{className:"grid grid-col-1  md:grid-cols-2 gap-3 items-start",children:[Object(d.jsx)("div",{children:i?Object(d.jsx)(E,{}):a.length>0?a.map((function(e){return Object(d.jsx)("div",{className:"my-4",children:Object(d.jsx)(Z,{post:e})})})):Object(d.jsx)("p",{children:"No Posts"})}),Object(d.jsx)("div",{className:"hidden md:block",children:s?Object(d.jsx)(R,{}):Object(d.jsx)(L,{user:t})})]})}function U(e){var t=e.field,s=e.type,c=void 0===s?"text":s,a=e.autocomplete,r=void 0===a?"":a,n=e.required,l=void 0!==n&&n,i=e.label,o=e.error,j=void 0===o?"":o,b=e.handleChange,u=e.value;return Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{htmlFor:"email",className:"block text-gray-700",children:i}),Object(d.jsxs)("div",{className:"my-2",children:[Object(d.jsx)("input",{value:u,id:t,name:t,type:c,autoComplete:r,required:l,onChange:function(e){return b(e.target.value)}}),Object(d.jsx)("div",{className:"text-red-600",children:j&&Object(d.jsx)("small",{children:j})})]})]})}function K(){var e=Object(i.g)(),t=D(),s=Object(c.useState)(""),a=Object(o.a)(s,2),r=a[0],n=a[1],j=Object(c.useState)(""),b=Object(o.a)(j,2),u=b[0],x=b[1],m=Object(c.useState)(!1),h=Object(o.a)(m,2),f=h[0],g=h[1],v=Object(c.useState)({}),N=Object(o.a)(v,2),y=N[0],S=N[1],A=function(){var s=Object(O.a)(p.a.mark((function s(c){var a,n,l;return p.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return c.preventDefault(),s.prev=1,g(!0),s.next=5,w.a.post("/auth/login",{email:r,password:u});case 5:return a=s.sent,window.localStorage.setItem("token",a.data.data.token),t("SNACKBAR",{success:!0,msg:a.data.message}),s.next=10,w.a.get("/user/me",{headers:{Authorization:"Bearer ".concat(a.data.data.token)}});case 10:n=s.sent,t("AUTH",n.data),e.push("/"),s.next=19;break;case 15:s.prev=15,s.t0=s.catch(1),console.log(s.t0),(null===(l=s.t0.response)||void 0===l?void 0:l.data)&&(s.t0.response.data.error&&t("SNACKBAR",{success:!1,msg:s.t0.response.data.error}),S(s.t0.response.data));case 19:return s.prev=19,g(!1),s.finish(19);case 22:case"end":return s.stop()}}),s,null,[[1,15,19,22]])})));return function(e){return s.apply(this,arguments)}}();return Object(d.jsxs)("div",{className:"max-w-md m-auto p-4 bg-white shadow-lg",children:[Object(d.jsx)("div",{className:"my-6",children:Object(d.jsx)("h1",{className:"font-bold text-2xl text-center",children:"Login"})}),Object(d.jsxs)("form",{onSubmit:A,children:[Object(d.jsx)(U,{value:r,handleChange:function(e){return n(e)},field:"email",error:y.email,label:"Email Address",type:"email",autocomplete:"email",required:!0}),Object(d.jsx)(U,{value:u,handleChange:function(e){return x(e)},field:"password",error:y.password,label:"Password",type:"password",required:!0}),Object(d.jsx)("button",{disabled:f,className:"w-full bg-blue-500 text-white text-lg my-3 py-2 rounded",type:"submit",children:f?"Loading...":"Login"})]}),Object(d.jsx)("div",{className:"my-2",children:Object(d.jsx)(l.b,{to:"/register",children:Object(d.jsx)("p",{className:"text-blue-600 text-sm text-center",children:"Create New Account"})})})]})}var q=s(20);function T(){return Object(d.jsxs)("div",{className:"grid bg-gradient-to-br from-purple-400 to-green-500 text-white grid-cols-1 border shadow bg-white sm:grid-cols-2  sm:gap-x-8 md:py-16",children:[Object(d.jsx)("div",{className:"relative z-10 col-start-1 row-start-1 px-4 pt-40 pb-3 bg-gradient-to-t from-black sm:bg-none",children:Object(d.jsx)("h2",{className:"text-xl font-semibold text-white sm:text-2xl sm:leading-7 sm:text-black md:text-3xl",children:"Harsh Mangalam"})}),Object(d.jsx)("div",{className:"col-start-1 row-start-2 px-4 sm:pb-16",children:Object(d.jsx)("hr",{className:"w-16 border-gray-300 hidden sm:block"})}),Object(d.jsxs)("div",{className:"col-start-1 row-start-3 space-y-3 px-4",children:[Object(d.jsxs)("div",{className:"space-x-3 flex items-center text-black text-sm font-medium",children:[Object(d.jsx)(q.b,{size:"25px"}),Object(d.jsx)("p",{children:"mangalamharsh78606@gmail.com"})]}),Object(d.jsxs)("div",{className:"flex items-center text-black text-sm font-medium space-x-3",children:[Object(d.jsx)(q.a,{size:"25px"}),Object(d.jsx)("p",{children:"https://twitter.com/harshmangalam"})]}),Object(d.jsxs)("div",{className:"flex items-center text-black text-sm font-medium space-x-3",children:[Object(d.jsx)(q.d,{size:"25px"}),Object(d.jsx)("p",{children:"https://twitter.com/harshmangalam"})]}),Object(d.jsxs)("div",{className:"flex items-center text-black text-sm font-medium space-x-3",children:[Object(d.jsx)(q.c,{size:"25px"}),Object(d.jsx)("p",{children:"https://instagram.com/harshmangalam"})]}),Object(d.jsx)("button",{type:"button",className:"bg-violet-100 text-violet-700 text-base font-semibold px-6 py-2 rounded-lg",children:"Blogger"})]})]})}function F(){return Object(d.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2  sm:gap-x-8 md:py-16",children:[Object(d.jsxs)("div",{className:"relative z-10 col-start-1 row-start-1 px-4 pt-40 pb-3 bg-gradient-to-t from-black sm:bg-none",children:[Object(d.jsx)("p",{className:"text-sm font-medium text-white sm:mb-1 sm:text-gray-500",children:"Fullstack Developer"}),Object(d.jsx)("h2",{className:"text-xl font-semibold text-white sm:text-2xl sm:leading-7 sm:text-black md:text-3xl",children:"Harsh Mangalam"})]}),Object(d.jsxs)("div",{className:"col-start-1 row-start-2 px-4 sm:pb-16",children:[Object(d.jsxs)("div",{className:"flex items-center text-sm font-medium my-5 sm:mt-2 sm:mb-4",children:[Object(d.jsx)("svg",{width:"20",height:"20",fill:"currentColor",className:"text-violet-600",children:Object(d.jsx)("path",{d:"M9.05 3.691c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.372 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.539 1.118l-2.8-2.034a1 1 0 00-1.176 0l-2.8 2.034c-.783.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.363-1.118l-2.8-2.034c-.784-.57-.381-1.81.587-1.81H7.03a1 1 0 00.95-.69L9.05 3.69z"})}),Object(d.jsx)("div",{className:"text-base font-normal mx-2",children:"\xb7"}),Object(d.jsx)("div",{children:"Bhagalpur, India"})]}),Object(d.jsx)("hr",{className:"w-16 border-gray-300 hidden sm:block"})]}),Object(d.jsxs)("div",{className:"col-start-1 row-start-3 space-y-3 px-4",children:[Object(d.jsxs)("p",{className:"flex items-center text-black text-sm font-medium",children:[Object(d.jsx)("img",{src:"https://images.unsplash.com/photo-1615396662271-e313de4da9ff?ixid=MXwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwzfHx8ZW58MHx8fA%3D%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",alt:"",className:"w-6 h-6 rounded-full mr-2 bg-gray-100"}),"mangalamharsh78606@gmail.com"]}),Object(d.jsx)("button",{type:"button",className:"bg-violet-100 text-violet-700 text-base font-semibold px-6 py-2 rounded-lg",children:"Blogger"})]}),Object(d.jsx)("div",{className:"col-start-1 row-start-1 flex sm:col-start-2 sm:row-span-3",children:Object(d.jsxs)("div",{className:"w-full grid grid-cols-3 grid-rows-2 gap-2",children:[Object(d.jsx)("div",{className:"relative col-span-3 row-span-2 md:col-span-2",children:Object(d.jsx)("img",{src:"https://images.unsplash.com/photo-1615396662271-e313de4da9ff?ixid=MXwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwzfHx8ZW58MHx8fA%3D%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",alt:"",className:"absolute inset-0 w-full h-full object-cover bg-gray-100 sm:rounded-lg"})}),Object(d.jsx)("div",{className:"relative hidden md:block",children:Object(d.jsx)("img",{src:"https://images.unsplash.com/photo-1615396662271-e313de4da9ff?ixid=MXwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwzfHx8ZW58MHx8fA%3D%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",alt:"",className:"absolute inset-0 w-full h-full object-cover rounded-lg bg-gray-100"})}),Object(d.jsx)("div",{className:"relative hidden md:block",children:Object(d.jsx)("img",{src:"https://images.unsplash.com/photo-1615396662271-e313de4da9ff?ixid=MXwxMjA3fDB8MHxlZGl0b3JpYWwtZmVlZHwzfHx8ZW58MHx8fA%3D%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=60",alt:"",className:"absolute inset-0 w-full h-full object-cover rounded-lg bg-gray-100"})})]})})]})}function _(){var e=D(),t=Object(i.g)(),s=Object(c.useState)(""),a=Object(o.a)(s,2),r=a[0],n=a[1],j=Object(c.useState)(""),b=Object(o.a)(j,2),u=b[0],x=b[1],m=Object(c.useState)(""),h=Object(o.a)(m,2),f=h[0],g=h[1],v=Object(c.useState)(!1),N=Object(o.a)(v,2),y=(N[0],N[1]),S=Object(c.useState)({}),A=Object(o.a)(S,2),k=A[0],C=A[1],B=function(){var s=Object(O.a)(p.a.mark((function s(c){var a,n;return p.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return c.preventDefault(),s.prev=1,y(!0),s.next=5,w.a.post("/auth/register",{name:u,email:r,password:f});case 5:a=s.sent,e("SNACKBAR",{success:!0,msg:a.data.message}),t.push("/login"),s.next=14;break;case 10:s.prev=10,s.t0=s.catch(1),console.log(s.t0),(null===(n=s.t0.response)||void 0===n?void 0:n.data)&&(s.t0.response.data.error&&(s.t0.response.data.error&&e("SNACKBAR",{success:!1,msg:s.t0.response.data.error}),e("SNACKBAR",{success:!1,msg:s.t0.response.data.error})),C(s.t0.response.data));case 14:return s.prev=14,y(!1),s.finish(14);case 17:case"end":return s.stop()}}),s,null,[[1,10,14,17]])})));return function(e){return s.apply(this,arguments)}}();return Object(d.jsxs)("div",{className:"max-w-md m-auto p-4 shadow-lg bg-white",children:[Object(d.jsx)("div",{className:"my-6",children:Object(d.jsx)("h1",{className:"font-bold text-2xl text-center",children:"Signup"})}),Object(d.jsxs)("form",{onSubmit:B,children:[Object(d.jsx)(U,{value:u,error:k.name,handleChange:function(e){return x(e)},field:"name",label:"Name",required:!0}),Object(d.jsx)(U,{field:"email",label:"Email Address",type:"email",autocomplete:"email",value:r,handleChange:function(e){return n(e)},required:!0,error:k.email}),Object(d.jsx)(U,{field:"password",label:"Password",type:"password",required:!0,value:f,handleChange:function(e){return g(e)},error:k.password}),Object(d.jsx)("button",{className:"w-full bg-blue-500 text-white text-lg my-3 py-2 rounded",type:"submit",children:"Signup"})]}),Object(d.jsx)("div",{className:"my-2",children:Object(d.jsx)(l.b,{to:"/login",children:Object(d.jsx)("p",{className:"text-blue-600 text-sm text-center",children:"Already have an account"})})})]})}function W(){var e,t=Object(i.h)(),s=D(),a=Object(c.useState)(null),r=Object(o.a)(a,2),n=r[0],l=r[1],j=Object(c.useState)(!1),b=Object(o.a)(j,2),u=b[0],x=b[1],m=Object(c.useState)({}),h=Object(o.a)(m,2);h[0],h[1];return Object(c.useEffect)((function(){function e(){return(e=Object(O.a)(p.a.mark((function e(){var c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.prev=1,e.next=4,w.a.get("/post/".concat(t.postId));case 4:c=e.sent,l(c.data),x(!1),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),x(!1),console.log(e.t0),e.t0.response.data.error&&s("SNACKBAR",{success:!1,msg:e.t0.response.data.error});case 14:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]),u?Object(d.jsx)("div",{children:Object(d.jsxs)("div",{className:"my-4 p-4 bg-white rounded-lg shadow w-full",children:[Object(d.jsxs)("div",{className:"animate-pulse flex items-center space-x-4",children:[Object(d.jsx)("div",{className:"rounded-full bg-blue-300 h-12 w-12"}),Object(d.jsx)("div",{className:"flex-1 space-y-4 py-1",children:Object(d.jsx)("div",{className:"h-4 bg-blue-300 rounded w-40"})})]}),Object(d.jsxs)("div",{className:"space-y-2 flex flex-col space-y-4 my-2",children:[Object(d.jsx)("div",{className:"h-96 bg-blue-300 rounded w-full"}),Object(d.jsx)("div",{className:"h-4 bg-blue-300 rounded w-60"}),Object(d.jsx)("div",{className:"h-4 bg-blue-300 rounded w-60"})]})]})}):n?Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{className:"text-5xl text-center",children:n.title}),Object(d.jsxs)("div",{className:"flex items-center space-x-4 justify-center my-4",children:[Object(d.jsx)("img",{src:null===(e=n.user)||void 0===e?void 0:e.image,className:"w-14 h-14 rounded-full"}),Object(d.jsxs)("div",{children:[Object(d.jsx)("p",{className:"text-sm text-gray-700",children:n.user.name}),Object(d.jsx)("p",{className:"text-sm text-gray-700",children:n.user.email})]})]}),Object(d.jsxs)("div",{children:[n.image&&Object(d.jsx)("img",{src:n.image,className:"w-full h-96  rounded-xl"}),Object(d.jsx)("p",{className:"text-center my-2 text-xl text-gray-800",children:new Date(n.createdAt).toDateString()}),n.body&&Object(d.jsx)("p",{className:"text-lg text-justify my-4 px-6",children:n.body})]})]}):Object(d.jsx)("p",{children:"...."})}function G(){var e,t=Object(c.useState)(null),s=Object(o.a)(t,2),a=s[0],r=s[1],n=Object(i.h)(),l=Object(c.useState)(!0),j=Object(o.a)(l,2),b=j[0],u=j[1];return Object(c.useEffect)((function(){function e(){return(e=Object(O.a)(p.a.mark((function e(){var t,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.userId,e.prev=1,e.next=4,w.a.get("/user/".concat(t));case 4:s=e.sent,r(s.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:return e.prev=11,u(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n]),b?Object(d.jsxs)("div",{children:[Object(d.jsx)(R,{}),Object(d.jsx)("hr",{}),Object(d.jsx)(E,{})]}):Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{className:"max-w-md m-auto",children:a?Object(d.jsx)(L,{user:a,loading:b}):Object(d.jsx)("div",{children:"User not Found"})}),Object(d.jsx)("hr",{}),Object(d.jsx)("div",{className:"my-3 text-xl text-center font-bold text-blue-500",children:"Posts"}),Object(d.jsx)("div",{children:(null===a||void 0===a||null===(e=a.posts)||void 0===e?void 0:e.length)>0?a.posts.map((function(e){return Object(d.jsx)("div",{className:"my-4",children:Object(d.jsx)(Z,{post:Object(g.a)(Object(g.a)({},e),{},{user:a.user})})})})):Object(d.jsx)("p",{children:"No Post"})})]})}var J=s(15);function V(){var e,t=Object(i.g)(),s=D(),a=Object(c.useState)(""),r=Object(o.a)(a,2),n=r[0],l=r[1],j=Object(c.useState)(""),b=Object(o.a)(j,2),u=b[0],x=b[1],m=Object(c.useState)(""),h=Object(o.a)(m,2),f=h[0],g=h[1],v=Object(c.useState)(!1),N=Object(o.a)(v,2),y=N[0],S=N[1],A=Object(c.useState)({}),k=Object(o.a)(A,2),C=k[0],B=k[1],H=function(){var e=Object(O.a)(p.a.mark((function e(c){var a,r,l;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),e.prev=1,S(!0),e.next=5,w.a.post("/post/",{title:n,body:u,image:f});case 5:return a=e.sent,s("SNACKBAR",{success:!0,msg:a.data.message}),e.next=9,w.a.get("/post/".concat(a.data.data.postId));case 9:r=e.sent,console.log(r.data),s("ADD_POST",r.data),S(!1),t.push("/"),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(1),S(!1),console.log(e.t0),(null===(l=e.t0.response)||void 0===l?void 0:l.data)&&(e.t0.response.data.error&&s("SNACKBAR",{success:!1,msg:e.t0.response.data.error}),B(e.t0.response.data));case 21:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)("div",{className:"max-w-md p-4 bg-white shadow-lg",children:[Object(d.jsx)("div",{className:"mb-3",children:Object(d.jsx)("h1",{className:"font-bold text-2xl text-center",children:"Create Post"})}),Object(d.jsxs)("form",{onSubmit:H,children:[Object(d.jsx)(U,(e={value:n,handleChange:function(e){return l(e)},error:C.title,field:"title"},Object(J.a)(e,"error",""),Object(J.a)(e,"label","Post Title"),Object(J.a)(e,"required",!0),e)),Object(d.jsx)(U,{value:f,handleChange:function(e){return g(e)},field:"image",label:"Post Image URL"}),Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{htmlFor:"body",className:"block text-gray-700",children:"Post Body"}),Object(d.jsxs)("div",{className:"my-2",children:[Object(d.jsx)("textarea",{id:"body",onChange:function(e){return x(e.target.value)},name:"body"}),Object(d.jsx)("div",{className:"text-red-600",children:C.body})]})]}),Object(d.jsx)("button",{className:"w-full bg-blue-500 text-white text-lg my-3 py-2 rounded",type:"submit",children:y?"Loading...":"Create"})]})]})}function Y(){var e,t=Object(i.h)(),s=Object(i.g)(),a=D(),r=Object(c.useState)(!1),n=Object(o.a)(r,2),l=n[0],j=n[1],b=Object(c.useState)({}),u=Object(o.a)(b,2),x=u[0],m=u[1],h=Object(c.useState)(""),f=Object(o.a)(h,2),g=f[0],v=f[1],N=Object(c.useState)(""),y=Object(o.a)(N,2),S=y[0],A=y[1],k=Object(c.useState)(""),C=Object(o.a)(k,2),B=C[0],H=C[1];Object(c.useEffect)((function(){function e(){return(e=Object(O.a)(p.a.mark((function e(){var s,c,r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j(!0),e.prev=1,e.next=4,w.a.get("/post/".concat(t.postId));case 4:n=e.sent,v(null===(s=n.data)||void 0===s?void 0:s.title),A(null===(c=n.data)||void 0===c?void 0:c.body),H(null===(r=n.data)||void 0===r?void 0:r.image),j(!1),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(1),j(!1),console.log(e.t0),e.t0.response.data.error&&a("SNACKBAR",{success:!1,msg:e.t0.response.data.error});case 16:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[t]);var P=function(){var e=Object(O.a)(p.a.mark((function e(c){var r,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),e.prev=1,j(!0),e.next=5,w.a.put("/post/".concat(t.postId),{title:g,body:S,image:B});case 5:r=e.sent,a("SNACKBAR",{success:!0,msg:r.data.message}),j(!1),s.push("/"),e.next=16;break;case 11:e.prev=11,e.t0=e.catch(1),j(!1),console.log(e.t0),(null===(n=e.t0.response)||void 0===n?void 0:n.data)&&(e.t0.response.data.error&&a("SNACKBAR",{success:!1,msg:e.t0.response.data.error}),m(e.t0.response.data));case 16:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(d.jsxs)("div",{className:"max-w-md p-4 bg-white shadow-lg",children:[Object(d.jsx)("div",{className:"mb-3",children:Object(d.jsx)("h1",{className:"font-bold text-2xl text-center",children:"Edit Post"})}),l?Object(d.jsx)("p",{children:"Loading..."}):Object(d.jsxs)("form",{onSubmit:P,children:[Object(d.jsx)(U,(e={value:g,handleChange:function(e){return v(e)},error:x.title,field:"title"},Object(J.a)(e,"error",""),Object(J.a)(e,"label","Post Title"),Object(J.a)(e,"required",!0),e)),Object(d.jsx)(U,{value:B,handleChange:function(e){return H(e)},field:"image",label:"Post Image URL"}),Object(d.jsxs)("div",{children:[Object(d.jsx)("label",{htmlFor:"body",className:"block text-gray-700",children:"Post Body"}),Object(d.jsxs)("div",{className:"my-2",children:[Object(d.jsx)("textarea",{id:"body",value:S,onChange:function(e){return A(e.target.value)},name:"body"}),Object(d.jsx)("div",{className:"text-red-600",children:x.body})]})]}),Object(d.jsx)("button",{className:"w-full bg-blue-500 text-white text-lg my-3 py-2 rounded",type:"submit",children:l?"Loading...":"Edit"})]})]})}w.a.defaults.baseURL="/api",w.a.defaults.withCredentials=!0,w.a.defaults.headers.common.Authorization=window.localStorage.token?"Bearer ".concat(window.localStorage.token):void 0;var X=function(){return Object(d.jsx)(c.Fragment,{children:Object(d.jsx)(l.a,{children:Object(d.jsx)(k,{children:Object(d.jsxs)("div",{className:"flex justify-between flex-col min-h-screen bg-gray-200",children:[Object(d.jsx)(B,{}),Object(d.jsx)("div",{className:"my-4 md:max-w-5xl m-auto px-4 ",children:Object(d.jsxs)(i.d,{children:[Object(d.jsx)(i.b,{path:"/",exact:!0,component:I}),Object(d.jsx)(i.b,{path:"/about",exact:!0,component:F}),Object(d.jsx)(i.b,{path:"/contact",exact:!0,component:T}),Object(d.jsx)(i.b,{path:"/login",exact:!0,component:K}),Object(d.jsx)(i.b,{path:"/register",exact:!0,component:_}),Object(d.jsx)(i.b,{path:"/user/:userId",exact:!0,component:G}),Object(d.jsx)(i.b,{path:"/post/view/:postId",exact:!0,component:W}),Object(d.jsxs)(P,{children:[Object(d.jsx)(i.b,{path:"/post/create",exact:!0,component:V}),Object(d.jsx)(i.b,{path:"/post/edit/:postId",exact:!0,component:Y})]})]})}),Object(d.jsx)(H,{})]})})})})};n.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(X,{})}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.88476254.chunk.js.map